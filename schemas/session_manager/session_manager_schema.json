{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://gesturelabs.org/schemas/session_manager_schema.json",
  "title": "Session Manager Schema",
  "description": "Schema for session_manager input and output messages.",
  "type": "object",
  "$defs": {
    "SessionStartResponse": {
      "properties": {
        "session_id": {
          "description": "System-generated session identifier",
          "title": "Session Id",
          "type": "string"
        },
        "user_id": {
          "description": "Pseudonymous user identifier",
          "title": "User Id",
          "type": "string"
        },
        "start_time": {
          "description": "UTC timestamp when session started",
          "format": "date-time",
          "title": "Start Time",
          "type": "string"
        },
        "is_training_data": {
          "description": "Whether session was for training data",
          "title": "Is Training Data",
          "type": "boolean"
        },
        "modality": {
          "anyOf": [
            {
              "items": {
                "enum": [
                  "gesture",
                  "speech",
                  "sound",
                  "typing"
                ],
                "type": "string"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Included only if is_training_data is true",
          "title": "Modality"
        }
      },
      "required": [
        "session_id",
        "user_id",
        "start_time",
        "is_training_data"
      ],
      "title": "SessionStartResponse",
      "type": "object"
    }
  }
}
